{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/db/schema.ts"],"sourcesContent":["import {\n  pgTable,\n  text,\n  timestamp,\n  boolean,\n  integer,\n  decimal,\n  primaryKey,\n} from \"drizzle-orm/pg-core\";\nimport { createId } from \"@paralleldrive/cuid2\";\n\n// ==================== AUTH TABLES (NextAuth) ====================\n\nexport const users = pgTable(\"users\", {\n  id: text(\"id\")\n    .primaryKey()\n    .$defaultFn(() => createId()),\n  name: text(\"name\"),\n  email: text(\"email\").notNull().unique(),\n  emailVerified: timestamp(\"email_verified\", { mode: \"date\" }),\n  image: text(\"image\"),\n  isAdmin: boolean(\"is_admin\").notNull().default(false), // Só o casal tem true\n  createdAt: timestamp(\"created_at\", { mode: \"date\" }).notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\", { mode: \"date\" }).notNull().defaultNow(),\n});\n\nexport const accounts = pgTable(\n  \"accounts\",\n  {\n    userId: text(\"user_id\")\n      .notNull()\n      .references(() => users.id, { onDelete: \"cascade\" }),\n    type: text(\"type\").notNull(),\n    provider: text(\"provider\").notNull(),\n    providerAccountId: text(\"provider_account_id\").notNull(),\n    refresh_token: text(\"refresh_token\"),\n    access_token: text(\"access_token\"),\n    expires_at: integer(\"expires_at\"),\n    token_type: text(\"token_type\"),\n    scope: text(\"scope\"),\n    id_token: text(\"id_token\"),\n    session_state: text(\"session_state\"),\n  },\n  (account) => ({\n    compoundKey: primaryKey({\n      columns: [account.provider, account.providerAccountId],\n    }),\n  })\n);\n\nexport const sessions = pgTable(\"sessions\", {\n  sessionToken: text(\"session_token\").notNull().primaryKey(),\n  userId: text(\"user_id\")\n    .notNull()\n    .references(() => users.id, { onDelete: \"cascade\" }),\n  expires: timestamp(\"expires\", { mode: \"date\" }).notNull(),\n});\n\nexport const verificationTokens = pgTable(\n  \"verification_tokens\",\n  {\n    identifier: text(\"identifier\").notNull(),\n    token: text(\"token\").notNull(),\n    expires: timestamp(\"expires\", { mode: \"date\" }).notNull(),\n  },\n  (verificationToken) => ({\n    compositePk: primaryKey({\n      columns: [verificationToken.identifier, verificationToken.token],\n    }),\n  })\n);\n\n// ==================== APP TABLES ====================\n\nexport const produtos = pgTable(\"produtos\", {\n  id: text(\"id\")\n    .primaryKey()\n    .$defaultFn(() => createId()),\n  nome: text(\"nome\").notNull(),\n  descricao: text(\"descricao\"),\n  preco: decimal(\"preco\", { precision: 10, scale: 2 }).notNull(),\n  cor: text(\"cor\"),\n  linkCompra: text(\"link_compra\"), // URL de onde comprar\n  imagemUrl: text(\"imagem_url\"), // URL da imagem uploadada\n  categoria: text(\"categoria\"), // Ex: \"Cozinha\", \"Quarto\", \"Banheiro\"\n  quantidade: integer(\"quantidade\").notNull().default(1),\n  prioridade: integer(\"prioridade\").notNull().default(0),\n  createdAt: timestamp(\"created_at\", { mode: \"date\" }).notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\", { mode: \"date\" }).notNull().defaultNow(),\n});\n\nexport const reservas = pgTable(\"reservas\", {\n  id: text(\"id\")\n    .primaryKey()\n    .$defaultFn(() => createId()),\n  produtoId: text(\"produto_id\")\n    .notNull()\n    .unique()\n    .references(() => produtos.id, { onDelete: \"cascade\" }),\n  nomeConvidado: text(\"nome_convidado\").notNull(),\n  emailConvidado: text(\"email_convidado\"),\n  telefone: text(\"telefone\"),\n  mensagem: text(\"mensagem\"), // Mensagem carinhosa opcional\n  confirmado: boolean(\"confirmado\").notNull().default(false), // Casal pode confirmar recebimento\n  createdAt: timestamp(\"created_at\", { mode: \"date\" }).notNull().defaultNow(),\n});\n\n// ==================== TYPES ====================\n\nexport type User = typeof users.$inferSelect;\nexport type NewUser = typeof users.$inferInsert;\n\nexport type Produto = typeof produtos.$inferSelect;\nexport type NewProduto = typeof produtos.$inferInsert;\n\nexport type Reserva = typeof reservas.$inferSelect;\nexport type NewReserva = typeof reservas.$inferInsert;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/db/relations.ts"],"sourcesContent":["import { relations } from \"drizzle-orm\";\nimport { users, accounts, sessions, produtos, reservas } from \"./schema\";\n\nexport const usersRelations = relations(users, ({ many }) => ({\n  accounts: many(accounts),\n  sessions: many(sessions),\n}));\n\nexport const accountsRelations = relations(accounts, ({ one }) => ({\n  user: one(users, {\n    fields: [accounts.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const sessionsRelations = relations(sessions, ({ one }) => ({\n  user: one(users, {\n    fields: [sessions.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const produtosRelations = relations(produtos, ({ one }) => ({\n  reserva: one(reservas, {\n    fields: [produtos.id],\n    references: [reservas.produtoId],\n  }),\n}));\n\nexport const reservasRelations = relations(reservas, ({ one }) => ({\n  produto: one(produtos, {\n    fields: [reservas.produtoId],\n    references: [produtos.id],\n  }),\n}));\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,iBAAiB,IAAA,0JAAS,EAAC,8HAAK,EAAE,CAAC,EAAE,IAAI,EAAE,GAAK,CAAC;QAC5D,UAAU,KAAK,iIAAQ;QACvB,UAAU,KAAK,iIAAQ;IACzB,CAAC;AAEM,MAAM,oBAAoB,IAAA,0JAAS,EAAC,iIAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACjE,MAAM,IAAI,8HAAK,EAAE;YACf,QAAQ;gBAAC,iIAAQ,CAAC,MAAM;aAAC;YACzB,YAAY;gBAAC,8HAAK,CAAC,EAAE;aAAC;QACxB;IACF,CAAC;AAEM,MAAM,oBAAoB,IAAA,0JAAS,EAAC,iIAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACjE,MAAM,IAAI,8HAAK,EAAE;YACf,QAAQ;gBAAC,iIAAQ,CAAC,MAAM;aAAC;YACzB,YAAY;gBAAC,8HAAK,CAAC,EAAE;aAAC;QACxB;IACF,CAAC;AAEM,MAAM,oBAAoB,IAAA,0JAAS,EAAC,iIAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACjE,SAAS,IAAI,iIAAQ,EAAE;YACrB,QAAQ;gBAAC,iIAAQ,CAAC,EAAE;aAAC;YACrB,YAAY;gBAAC,iIAAQ,CAAC,SAAS;aAAC;QAClC;IACF,CAAC;AAEM,MAAM,oBAAoB,IAAA,0JAAS,EAAC,iIAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,GAAK,CAAC;QACjE,SAAS,IAAI,iIAAQ,EAAE;YACrB,QAAQ;gBAAC,iIAAQ,CAAC,SAAS;aAAC;YAC5B,YAAY;gBAAC,iIAAQ,CAAC,EAAE;aAAC;QAC3B;IACF,CAAC"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/db/index.ts"],"sourcesContent":["import { drizzle } from \"drizzle-orm/neon-http\";\nimport { neon } from \"@neondatabase/serverless\";\nimport * as schema from \"./schema\";\nimport * as relations from \"./relations\";\n\nconst sql = neon(process.env.DATABASE_URL!);\n\nexport const db = drizzle(sql, {\n  schema: { ...schema, ...relations },\n});\n\n// Re-export schema types\nexport * from \"./schema\";\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;AAElC,MAAM,KAAK,IAAA,qKAAO,EAAC,KAAK;IAC7B,QAAQ;QAAE,GAAG,qHAAM;QAAE,GAAG,wHAAS;IAAC;AACpC"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/lib/auth.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\nimport Google from \"next-auth/providers/google\";\nimport { DrizzleAdapter } from \"@auth/drizzle-adapter\";\nimport { db } from \"@/db\";\nimport { users, accounts, sessions, verificationTokens } from \"@/db/schema\";\nimport { eq } from \"drizzle-orm\";\n\nconst adminEmails = process.env.ADMIN_EMAILS?.split(\",\") ?? [];\n\nexport const { handlers, auth, signIn, signOut } = NextAuth({\n  adapter: DrizzleAdapter(db, {\n    usersTable: users,\n    accountsTable: accounts,\n    sessionsTable: sessions,\n    verificationTokensTable: verificationTokens,\n  }),\n  providers: [\n    Google({\n      clientId: process.env.GOOGLE_CLIENT_ID!,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n    }),\n  ],\n  callbacks: {\n    async signIn({ user }) {\n      if (user.email && adminEmails.includes(user.email)) {\n        await db\n          .update(users)\n          .set({ isAdmin: true })\n          .where(eq(users.email, user.email));\n      }\n      return true;\n    },\n    async session({ session, user }) {\n      const dbUser = await db.query.users.findFirst({\n        where: eq(users.id, user.id),\n      });\n\n      return {\n        ...session,\n        user: {\n          ...session.user,\n          id: user.id,\n          isAdmin: dbUser?.isAdmin ?? false,\n        },\n      };\n    },\n  },\n  pages: {\n    signIn: \"/login\",\n  },\n  trustHost: true,\n});\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,YAAY,EAAE,MAAM,QAAQ,EAAE;AAEvD,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,kKAAQ,EAAC;IAC1D,SAAS,IAAA,yKAAc,EAAC,0IAAE,EAAE;QAC1B,YAAY,8HAAK;QACjB,eAAe,iIAAQ;QACvB,eAAe,iIAAQ;QACvB,yBAAyB,2IAAkB;IAC7C;IACA,WAAW;QACT,IAAA,kMAAM,EAAC;YACL,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;QAChD;KACD;IACD,WAAW;QACT,MAAM,QAAO,EAAE,IAAI,EAAE;YACnB,IAAI,KAAK,KAAK,IAAI,YAAY,QAAQ,CAAC,KAAK,KAAK,GAAG;gBAClD,MAAM,0IAAE,CACL,MAAM,CAAC,8HAAK,EACZ,GAAG,CAAC;oBAAE,SAAS;gBAAK,GACpB,KAAK,CAAC,IAAA,0KAAE,EAAC,8HAAK,CAAC,KAAK,EAAE,KAAK,KAAK;YACrC;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,IAAI,EAAE;YAC7B,MAAM,SAAS,MAAM,0IAAE,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;gBAC5C,OAAO,IAAA,0KAAE,EAAC,8HAAK,CAAC,EAAE,EAAE,KAAK,EAAE;YAC7B;YAEA,OAAO;gBACL,GAAG,OAAO;gBACV,MAAM;oBACJ,GAAG,QAAQ,IAAI;oBACf,IAAI,KAAK,EAAE;oBACX,SAAS,QAAQ,WAAW;gBAC9B;YACF;QACF;IACF;IACA,OAAO;QACL,QAAQ;IACV;IACA,WAAW;AACb"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/lib/validations/produto.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { createInsertSchema, createSelectSchema } from \"drizzle-zod\";\nimport { produtos } from \"@/db/schema\";\n\n// Gerar schema automaticamente do Drizzle\nexport const insertProdutoSchema = createInsertSchema(produtos, {\n  nome: z.string().min(2, \"Nome deve ter pelo menos 2 caracteres\"),\n  preco: z.string().regex(/^\\d+(\\.\\d{1,2})?$/, \"Preço inválido\"),\n  linkCompra: z.string().url(\"Link inválido\").optional().or(z.literal(\"\")),\n  categoria: z.string().optional(),\n  cor: z.string().optional(),\n  descricao: z.string().optional(),\n  imagemUrl: z.string().url(\"URL da imagem inválida\").optional().or(z.literal(\"\")),\n  quantidade: z.number().int().min(1).default(1),\n  prioridade: z.number().int().min(0).default(0),\n});\n\nexport const selectProdutoSchema = createSelectSchema(produtos);\n\n// Schema customizado para criação (sem id, createdAt, updatedAt)\nexport const createProdutoSchema = insertProdutoSchema.omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// Schema para atualização (todos os campos opcionais)\nexport const updateProdutoSchema = createProdutoSchema.partial();\n\nexport type CreateProdutoInput = z.infer<typeof createProdutoSchema>;\nexport type UpdateProdutoInput = z.infer<typeof updateProdutoSchema>;\nexport type ProdutoSelect = z.infer<typeof selectProdutoSchema>;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;;;;AAGO,MAAM,sBAAsB,IAAA,gKAAkB,EAAC,iIAAQ,EAAE;IAC9D,MAAM,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,oLAAC,CAAC,MAAM,GAAG,KAAK,CAAC,qBAAqB;IAC7C,YAAY,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,iBAAiB,QAAQ,GAAG,EAAE,CAAC,oLAAC,CAAC,OAAO,CAAC;IACpE,WAAW,oLAAC,CAAC,MAAM,GAAG,QAAQ;IAC9B,KAAK,oLAAC,CAAC,MAAM,GAAG,QAAQ;IACxB,WAAW,oLAAC,CAAC,MAAM,GAAG,QAAQ;IAC9B,WAAW,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,0BAA0B,QAAQ,GAAG,EAAE,CAAC,oLAAC,CAAC,OAAO,CAAC;IAC5E,YAAY,oLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC;IAC5C,YAAY,oLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,CAAC;AAC9C;AAEO,MAAM,sBAAsB,IAAA,gKAAkB,EAAC,iIAAQ;AAGvD,MAAM,sBAAsB,oBAAoB,IAAI,CAAC;IAC1D,IAAI;IACJ,WAAW;IACX,WAAW;AACb;AAGO,MAAM,sBAAsB,oBAAoB,OAAO"}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavio-ego-eimi/Documents/workspace/casa-nova/src/app/api/produtos/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { auth } from \"@/lib/auth\";\nimport { db } from \"@/db\";\nimport { produtos } from \"@/db/schema\";\nimport { createProdutoSchema } from \"@/lib/validations/produto\";\nimport { desc } from \"drizzle-orm\";\nimport { ZodError } from \"zod\";\n\n// GET /api/produtos - Listar todos com reservas\nexport async function GET() {\n  try {\n    const result = await db.query.produtos.findMany({\n      with: {\n        reserva: true,\n      },\n      orderBy: [desc(produtos.prioridade), desc(produtos.createdAt)],\n    });\n\n    return NextResponse.json(result);\n  } catch (error) {\n    console.error(\"Erro ao buscar produtos:\", error);\n    return NextResponse.json(\n      { error: \"Erro ao buscar produtos\" },\n      { status: 500 }\n    );\n  }\n}\n\n// POST /api/produtos - Criar produto (só admin)\nexport async function POST(request: Request) {\n  try {\n    const session = await auth();\n\n    if (!session?.user?.isAdmin) {\n      return NextResponse.json({ error: \"Não autorizado\" }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const validated = createProdutoSchema.parse(body);\n\n    const [novoProduto] = await db\n      .insert(produtos)\n      .values(validated)\n      .returning();\n\n    return NextResponse.json(novoProduto, { status: 201 });\n  } catch (error) {\n    if (error instanceof ZodError) {\n      return NextResponse.json(\n        { error: \"Dados inválidos\", details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    console.error(\"Erro ao criar produto:\", error);\n    return NextResponse.json(\n      { error: \"Erro ao criar produto\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM,0IAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC9C,MAAM;gBACJ,SAAS;YACX;YACA,SAAS;gBAAC,IAAA,wKAAI,EAAC,iIAAQ,CAAC,UAAU;gBAAG,IAAA,wKAAI,EAAC,iIAAQ,CAAC,SAAS;aAAE;QAChE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAI;QAE1B,IAAI,CAAC,SAAS,MAAM,SAAS;YAC3B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,YAAY,6JAAmB,CAAC,KAAK,CAAC;QAE5C,MAAM,CAAC,YAAY,GAAG,MAAM,0IAAE,CAC3B,MAAM,CAAC,iIAAQ,EACf,MAAM,CAAC,WACP,SAAS;QAEZ,OAAO,gJAAY,CAAC,IAAI,CAAC,aAAa;YAAE,QAAQ;QAAI;IACtD,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,4JAAQ,EAAE;YAC7B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;gBAAmB,SAAS,MAAM,MAAM;YAAC,GAClD;gBAAE,QAAQ;YAAI;QAElB;QAEA,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}